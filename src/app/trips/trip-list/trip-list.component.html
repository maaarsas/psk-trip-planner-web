<div class="row white-readonly-input filter-container mt-5 mb-3">

  <div class="col-sm">
    <label>{{ 'trip-filters.start-date-from' | translate }}:</label>
    <div class="input-group">
      <input class="form-control" [readOnly]="true" name="startDateFromFilter"
             [(ngModel)]="startDateFromModel" ngbDatepicker #dp1="ngbDatepicker"
             (click)="dp1.toggle()" (dateSelect)="onDateSelect()">
      <div class="input-group-append">
        <button class="btn btn-secondary" (click)="startDateFromModel=null; onDateSelect()">X</button>
      </div>
    </div>
  </div>
  <div class="col-sm">
    <label>{{ 'trip-filters.start-date-to' | translate }}:</label>
    <div class="input-group">
      <input class="form-control" [readOnly]="true" name="startDateToFilter"
             [(ngModel)]="startDateToModel" ngbDatepicker #dp2="ngbDatepicker"
             (click)="dp2.toggle()" (dateSelect)="onDateSelect()">
      <div class="input-group-append">
        <button class="btn btn-secondary" (click)="startDateToModel=null; onDateSelect()">X</button>
      </div>
    </div>
  </div>
  <div class="col-sm">
    <label>{{ 'trip-filters.end-date-from' | translate }}:</label>
    <div class="input-group">
      <input class="form-control" [readOnly]="true" name="endDateFromFilter"
             [(ngModel)]="endDateFromModel" ngbDatepicker #dp3="ngbDatepicker"
             (click)="dp3.toggle()" (dateSelect)="onDateSelect()">
      <div class="input-group-append">
        <button class="btn btn-secondary" (click)="endDateFromModel=null; onDateSelect()">X</button>
      </div>
    </div>
  </div>
  <div class="col-sm">
    <label>{{ 'trip-filters.end-date-to' | translate }}:</label>
    <div class="input-group">
      <input class="form-control" [readOnly]="true" name="endDateToFilter"
             [(ngModel)]="endDateToModel" ngbDatepicker #dp4="ngbDatepicker"
             (click)="dp4.toggle()" (dateSelect)="onDateSelect()">
      <div class="input-group-append">
        <button class="btn btn-secondary" (click)="endDateToModel=null; onDateSelect()">X</button>
      </div>
    </div>
  </div>

  <div class="col-sm-auto">
    <button class="btn btn-secondary" (click)="onPreviousSelect()">{{ 'trip-filters.previous' | translate }}</button>
  </div>
  <div class="col-sm-auto">
    <button class="btn btn-secondary" (click)="onCurrentSelect()">{{ 'trip-filters.current' | translate }}</button>
  </div>
  <div class="col-sm-auto">
    <button class="btn btn-secondary" (click)="onUpcomingSelect()">{{ 'trip-filters.upcoming' | translate }}</button>
  </div>

</div>


<ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
  <ngb-panel *ngFor="let trip of trips">
    <ng-template ngbPanelHeader>
      <div class="d-flex align-items-center justify-content-between">
        <button ngbPanelToggle class="btn btn-link m-0">{{trip.toOffice.title}}</button>
        <div *ngIf="showInvitationButtons">
          <button (click)="onAccept(trip)" class="btn btn-sm btn-primary ml-2">Accept</button>
          <button (click)="onDecline(trip)" class="btn btn-sm btn-danger ml-2">Decline</button>
        </div>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <ul>
        <li><strong>Destination:</strong> {{trip.toOffice.title}}</li>
        <li><strong>Start date:</strong> {{trip.startDate}}</li>
        <li><strong>End date:</strong> {{trip.endDate}}</li>
        <li><strong>Organizer:</strong> {{trip.organizer.name}} {{trip.organizer.surname}}</li>
        <li><strong>Number of participants:</strong> {{trip.tripParticipations.length}}</li>
        <li><strong>Flight ticket status:</strong> {{trip.flightTicketStatus}}</li>
        <li><strong>Car rental status:</strong> {{trip.carRentalStatus}}</li>
        <li><strong>Accommodation status:</strong> {{trip.accomodationStatus}}</li>
      </ul>
    </ng-template>
  </ngb-panel>
</ngb-accordion>

<div class="row pagination-row">
  <div class="offset-md-7 col-md-5">
    <ngb-pagination (pageChange)="onPageChange($event)" [collectionSize]="collectionSize" [pageSize]="pageSize"
                    [(page)]="page" [maxSize]="5"
                    [rotate]="true"
                    [boundaryLinks]="true"></ngb-pagination>
    <div class="page-size-container">
      <label>Items per page</label>
      <select (change)="onPageSizeChange($event.target.value)" class="browser-default custom-select">
        <option *ngFor="let pageSize of pageSizeOptions" value="{{pageSize}}">{{pageSize}}</option>
      </select>
    </div>
  </div>
</div>

